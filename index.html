<!DOCTYPE html>
<html>
    <head>
        <script
            src="https://code.jquery.com/jquery-3.4.1.js"
            integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
            crossorigin="anonymous"></script>
        <link rel="stylesheet" type="text/css" href="style.css">
        <meta charset="utf-8">
        <script src="java.js"></script>
        <script src="modal-text.js"></script>
        <script src="https://kit.fontawesome.com/a076d05399.js"></script>
        <link rel="stylesheet" href="highlights/styles/agate.min.css">
        <script src="highlights/highlight.min.js"></script>
    </head>
    <body>
        <div class="header">
        <a href="#default" class="logo1"><img src="res/LOGO - Transparent.png" style="width: 40px;"></a>
            <a href="#default" class="logo">Lol Module Creation tool</a>
            <div class="header-right">
              <a class="active" href="#home">Home</a>
              <a href="https://github.com/nicolasdeory/leagueoflegends-led"><i class='fab fa-github' style='font-size:20px;'> Github</i></a>    
              <a a href="https://discord.com/invite/KtTRPZt"><i class="fab fa-discord" style='font-size:20px;'> Discord</i></a>

	        <!-- Trigger/Open The Modal -->
<button id="myBtn" class="fas fa-question"></button>

<!-- The Modal -->
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
    <p id="demo-modal"></p>
  </div>

</div> 
</div>
</div>
<p></p>
   <div class="">
           <div class="tooltip"><p style="margin-top: 0px; margin-bottom: 0px;">Champion Module Name</p> <span class="tooltiptext">Make sure you fill the name including "Module" at the end for the file to save correctly. </span></div>
            <input id="project-name" value="JaxModule">
        </div>     

        <div class="Syntax">
            <p>Syntax highlighting</p>
            <div class="syntax-highlight" id="strip-container"></div>
        </div>
        <script>hljs.initHighlightingOnLoad();</script>
        <pre><code class="csharp" id="pre-code">
using Games.LeagueOfLegends.ChampionModules.Common;
using Games.LeagueOfLegends.Model;
using LedDashboardCore;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace Games.LeagueOfLegends.ChampionModules
{
    [Champion(CHAMPION_NAME)]
    public sealed class XerathModule : ChampionModule
    {
        public const string CHAMPION_NAME = "Xerath";
        // Variables

        // Champion-specific Variables
        int rTimeRemaining = 0;
        int chargesRemaining = 0;
        bool castingQ;

        HSVColor BlueExplodeColor = new HSVColor(0.59f, 1, 1);

        public int MaxRCasts => GameState.ActivePlayer.Abilities.R_Level + 2;

        public XerathModule(GameState gameState, AbilityCastPreference preferredCastMode)
            : base(CHAMPION_NAME, gameState, preferredCastMode, true)
        {
            // Initialization for the champion module occurs here.
        }

        protected override AbilityCastMode GetQCastMode() => AbilityCastMode.Instant(3500, 1, AbilityCastMode.KeyUpRecast());
        protected override AbilityCastMode GetWCastMode() => AbilityCastMode.Normal();
        protected override AbilityCastMode GetECastMode() => AbilityCastMode.Normal();
        protected override AbilityCastMode GetRCastMode() => AbilityCastMode.Instant(10000, 3, AbilityCastMode.Instant());

        protected override void OnMouseClick(object s, MouseEventArgs e)
        {
            if (e.Button == MouseButtons.Right && chargesRemaining > 0)
            {
                int finalCooldown = GetCooldownForAbility(AbilityKey.R);
                if (chargesRemaining == MaxRCasts)
                {
                    finalCooldown /= 2;
                }
                StartCooldownTimer(AbilityKey.R, finalCooldown);
                CancelRecast(AbilityKey.R);
                RunAnimationOnce("q_retract", LightZone.Desk, timeScale: 0.6f);
                chargesRemaining = 0;
            }
        }

        /// <summary>
        /// Called when the game state is updated
        /// </summary>
        private void OnGameStateUpdated(GameState state)
        {
            AbilityCastModes[AbilityKey.R].MaxRecasts = MaxRCasts;
        }

        protected override async Task OnCastQ()
        {
            castingQ = true;
            RunAnimationOnce("q_charge", LightZone.Desk, timeScale: 0.3f);
            if (castingQ) // we need to check again after playing last anim
                Animator.HoldColor(BlueExplodeColor, LightZone.Desk, 1.5f);
            if (castingQ)
            {
                RunAnimationOnce("q_retract", LightZone.Desk, timeScale: 0.6f);
                castingQ = false;
            }
        }
        protected override async Task OnCastW()
        {
            await Task.Delay(100);
            RunAnimationOnce("w_cast", LightZone.Desk, 1000, timeScale: 1f);
            //await Task.Delay(1000);
            Animator.ColorBurst(HSVColor.White, LightZone.Desk);
        }
        protected override async Task OnCastE()
        {
            await Task.Delay(100);
            RunAnimationOnce("e_cast", LightZone.Keyboard, timeScale: 0.5f);
        }
        protected override async Task OnCastR()
        {
            RunAnimationOnce("r_open", LightZone.All, timeScale: 0.23f);
            StartRTimer();
            await Task.Delay(500);
            if (chargesRemaining == 3)
            {
                Animator.HoldColor(HSVColor.White, LightZone.All, 10000);
            }
        }

        private async Task StartRTimer()
        {
            chargesRemaining = MaxRCasts;

            await Task.Delay(10000);

            if (chargesRemaining > 0)
            {
                Animator.StopCurrentAnimation();
            }
            chargesRemaining = 0;
        }

        protected override async Task OnRecastQ()
        {
            castingQ = false;
            RunAnimationOnce("q_retract", LightZone.Desk, timeScale: 0.6f);
            await Task.Delay(300);
            Animator.ColorBurst(BlueExplodeColor, LightZone.Desk, 0.8f);
        }
        protected override async Task OnRecastR()
        {
            if (chargesRemaining == 0)
            {
                return;
            }

            chargesRemaining--;
            RunAnimationOnce("r_launch", LightZone.All, timeScale: 0.4f);
            await Task.Delay(700);

            if (chargesRemaining > 0)
            {
                int previousCharges = chargesRemaining;
                Animator.ColorBurst(BlueExplodeColor, LightZone.All, 0.8f, destinationColor: HSVColor.White);
                if (previousCharges == chargesRemaining)
                {
                    Animator.HoldColor(HSVColor.White, LightZone.All, rTimeRemaining);
                }
            }
            else if (chargesRemaining == 0)
            {
                Animator.ColorBurst(BlueExplodeColor, LightZone.All, 1.2f);
            }
        }
    }
}
        </code></pre>

        <br><br><hr><br>

        <button id="export-file">Export to file</button>
        <button id="export" title="Ctrl + Enter">EXPORT</button>
		<button id="copy-to-clipboard">Copy To Clipboard</button>
<p> 
</p>


    </body>
    <footer>
        <p>Author: R. C. // Project since 2020</p>
         </footer>
</html>
